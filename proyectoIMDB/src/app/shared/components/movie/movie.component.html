<div *ngIf="movieMode === 'view'; else administrador" class="my-5 mx-8 flex flex-row justify-content-between w-full">
  <mat-card appearance="outlined" class="w-6 mr-4 h-full">
    <mat-card-content>
      <h1>hola User</h1>
    </mat-card-content>
  </mat-card>
  <mat-card class="w-1/2 ml-4">
    <mat-card-content>
      <h1>Hola mundo</h1>
    </mat-card-content>
  </mat-card>
</div>
<ng-template #administrador >
  <div class="my-5 ml-5 flex justify-content-center">
    <form>
      <mat-card class=" mr-4 ">
        <div class="mx-3 mt-3 flex justify-content-between">
          <mat-form-field class="w-8">
            <mat-label>Titulo</mat-label>
            <input matInput required [value]="movie.titulo">
          </mat-form-field>
          <mat-form-field class="w-3">
            <mat-label>Año</mat-label>
            <input matInput required [value]="movie.lanzamiento">
          </mat-form-field>
        </div>
        <mat-card-content>
          <div class="flex align-items-center">
            <mat-form-field class="w-11">
              <mat-label>Añadir imagen</mat-label>
              <input matInput>
            </mat-form-field>
            <div class="w-2 flex justify-content-center align-items-center">
              <button mat-flat-button class="mb-3 text-2xl">+</button>
            </div>
          </div>
          
          <div *ngIf="!movie.fotosExtra.length && movie.portada === ''; else fotos" class="w-full flex justify-content-center">
            <div class="shadow-3 pb-6 pt-4 w-max px-7 my-3">
              <div class="flex justify-content-center">
                <h1>No hay fotos para mostrar</h1> 
              </div>
              
              <div class="flex justify-content-center ">
                <button mat-flat-button class="text-3xl">+</button>
              </div>
              
            </div>
            
          </div>
          <ng-template #fotos >
            
            <div class="flex justify-content-around w-full overflow-x-auto">
              <div class="flex flex-column align-items-center m-3 sm:w-7 md:w-6 xl:w-5">
                <img [src]="movie.portada" alt="" mat-card-image class="shadow-4 w-full mb-3">
                <button mat-flat-button>x</button>
              </div>
              @for (photo of movie.fotosExtra; track $index; ) {
                <div class="flex flex-column align-items-center m-3 sm:w-7 md:w-6 xl:w-5">
                  <img [src]="photo" mat-card-image class="w-full shadow-4 mb-3">
                  <button mat-flat-button>x</button>
                </div>
              }
            </div>

          </ng-template>
          
          <div class="mt-3 flex justify-content-between">
            <mat-form-field class="w-5">
              <mat-label>Director</mat-label>
              <input matInput required [value]="movie.director">
            </mat-form-field>
            <mat-form-field class="w-5">
              <mat-label>Calificacion</mat-label>
              <input matInput required [value]="movie.calificacion">
            </mat-form-field>
          </div>

          <mat-form-field class="w-full">
            <mat-label>Generos</mat-label>
            <mat-select multiple [formControl]="movieGenders" required>
              @for (gender of generos; track gender) {
                <mat-option [value]="gender">{{gender}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <mat-form-field class="w-full">
            <mat-label>Descripcion</mat-label>
            <textarea matInput required>{{movie.descripcion}}</textarea>
          </mat-form-field>
          <mat-form-field class="w-full">
            <mat-label>Reparto</mat-label>
            <mat-select multiple [formControl]="reparto" required>
              
              <mat-form-field class="w-11 px-5">
                <mat-label>Buscar actor...</mat-label>
                <input matInput (keyup)="filtrarActores($event)">
              </mat-form-field>
          
              @for (actor of actores_filtrados; track actor) {
                <mat-option [value]="actor.nombre">{{actor.nombre}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </form>
  </div>
</ng-template>